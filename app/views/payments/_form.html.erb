<%- model_class = Payment -%>

<%= form_for [@enrollment, @payment], html: { class: "form-horizontal payment",
                                      "data-stripe-publishable-key": ENV.fetch("STRIPE_PUBLISHABLE_KEY")} do |f| %>
  <%= render partial: @enrollment.financed? ? "payments" : "prepay" %>

  <div class='form-row'>
    <div class='col-xs-12 form-group required'>
      <label class='control-label'>Name on Card</label>
      <input class='form-control' size='16' type='text'>
    </div>
  </div>
  <div class='form-row'>
    <div class='col-xs-12 form-group card required'>
      <label class='control-label'>Card Number</label>
      <input autocomplete='off' class='form-control card-number' size='20' 
             type='text'>
    </div>
  </div>
  <div class='form-row'>
    <div class='col-xs-3 form-group cvc required'>
      <label class='control-label'>CVC</label>
      <input autocomplete='off' class='form-control card-cvc' placeholder='ex. 311' size='4' type='text'>
    </div>
    <div class='col-xs-3 form-group expiration required'>
      <label class='control-label'>Expiration</label>
      <input class='form-control card-expiry-month' placeholder='MM' size='2' type='text'>
    </div>
    <div class='col-xs-3 form-group expiration required'>
      <label class='control-label'>Â </label>
      <input class='form-control card-expiry-year' placeholder='YY' size='2' type='text'>
    </div>
  </div>
  <div class='col-xs-12 form-row'>
    <div class='payment-errors'>
    </div>
  </div>
  <div class='col-xs-12 form-row'>
    <div class='form-group'>
      <button class='form-control btn btn-primary submit-button' type='submit'>Pay 
      <%= number_to_currency(@amount) %> now</button>
    </div>
  </div>
<% end %>
